# Using Prometheus

Prometheus is a monitoring tool often used with Kubernetes.

Prometheus support, then the metrics that are generated by services using the 
Prometheus exposition format can be exported from the cluster and made visible
as external metrics in Cloud Monitoring.

## Add reposit chat

 helm repo add bitnami https://charts.bitnami.com/bitnami

## Reposit list

 helm repo  list

## Criate namespace

kubectl create namespace monitoring

## Install prometheus-operator

helm install prometheus-operator bitnami/prometheus-operator --namespace monitoring


### ** Please be patient while the chart is being deployed **

Watch the Prometheus Operator Deployment status using the command:

    kubectl get deploy -w --namespace monitoring -l app.kubernetes.io/name=prometheus-operator-operator,app.kubernetes.io/instance=prometheus-operator

Watch the Prometheus StatefulSet status using the command:

    kubectl get sts -w --namespace monitoring -l app.kubernetes.io/name=prometheus-operator-prometheus,app.kubernetes.io/instance=prometheus-operator

Prometheus can be accessed via port "9090" on the following DNS name from within your cluster:

    prometheus-operator-prometheus.monitoring.svc.cluster.local

To access Prometheus from outside the cluster execute the following commands:

    echo "Prometheus URL: http://127.0.0.1:9090/"
    kubectl port-forward --namespace monitoring svc/prometheus-operator-prometheus 9090:9090

Watch the Alertmanager StatefulSet status using the command:

    kubectl get sts -w --namespace monitoring -l app.kubernetes.io/name=prometheus-operator-alertmanager,app.kubernetes.io/instance=prometheus-operator

Alertmanager can be accessed via port "9093" on the following DNS name from within your cluster:

    prometheus-operator-alertmanager.monitoring.svc.cluster.local

To access Alertmanager from outside the cluster execute the following commands:

    echo "Alertmanager URL: http://127.0.0.1:9093/"
    kubectl port-forward --namespace monitoring svc/prometheus-operator-alertmanager 9093:9093
